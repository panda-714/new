window.customify=window.customify||parent.customify||{},function(e,n,t,i){void 0===customify.styleManager&&(customify.styleManager={}),_.extend(customify.styleManager,function(){const n=t.customize;n.bind("ready",(function(){const t=e("#style-manager-user-feedback-modal");if(t.length){const i=t.find("form"),o=t.find(".close"),s=t.find(".first-step"),a=t.find(".second-step"),c=t.find(".thanks-step"),d=t.find(".error-step");let r=!1,f=!1,u=!1;n.bind("saved",(function(){r||!f&&!u||(e("body").addClass("feedback-modal-open modal-open"),r=!0)}));const l=n("sm_color_palette");_.isUndefined(l)||l.bind((function(e,n){e!=n&&(f=!0)}));const m=n("sm_color_palette_variation");_.isUndefined(m)||m.bind((function(e,n){e!=n&&(f=!0)}));const p=n("sm_font_palette");_.isUndefined(p)||p.bind((function(e,n){e!=n&&(u=!0)})),i.on("submit",(function(n){n.preventDefault();let t=e(n.target),i={action:"customify_style_manager_user_feedback",nonce:customify.styleManager.userFeedback.nonce,type:t.find("input[name=type]").val(),rating:t.find("input[name=rating]:checked").val(),message:t.find("textarea[name=message]").val()};e.post(customify.config.ajax_url,i,(function(e){!0===e.success?(s.hide(),a.hide(),c.show(),d.hide()):(s.hide(),a.hide(),c.hide(),d.show())}))})),i.find("input[name=rating]").on("change",(function(e){setTimeout((function(){a.show()}),300);let n=i.find("input[name=rating]:checked").val();i.find(".rating-placeholder").text(n)})),o.on("click",(function(n){n.preventDefault(),e("body").removeClass("feedback-modal-open modal-open"),setTimeout((function(){s.show(),a.hide(),c.hide(),d.hide()}),300)}))}}));const i=function(e,n){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");let t=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16);return n?.299*t+.587*i+.114*s>186?"#000000":"#FFFFFF":(t=(255-t).toString(16),i=(255-i).toString(16),s=(255-s).toString(16),"#"+o(t)+o(i)+o(s))},o=function(e,n){return n=n||2,(new Array(n).join("0")+e).slice(-n)};return{inverseHexColor:i,inverseHexColorToBlackOrWhite:function(e){return i(e,!0)},padZero:o}}())}(jQuery,window.customify,wp,document);